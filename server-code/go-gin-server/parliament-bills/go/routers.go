/*
 * Bills API
 *
 * API to get and search for information regarding Bills, their stages, associated amendments and publications.
 *
 * API version: v1
 * Contact: softwareengineering@parliament.uk
 * Generated by: OpenAPI Generator (https://openapi-generator.tech)
 */

package openapi

import (
	"net/http"

	"github.com/gin-gonic/gin"
)

// Route is the information for every URI.
type Route struct {
	// Name is the name of this Route.
	Name		string
	// Method is the string for the HTTP method. ex) GET, POST etc..
	Method		string
	// Pattern is the pattern of the URI.
	Pattern	 	string
	// HandlerFunc is the handler function of this route.
	HandlerFunc	gin.HandlerFunc
}

// NewRouter returns a new router.
func NewRouter(handleFunctions ApiHandleFunctions) *gin.Engine {
	router := gin.Default()
	for _, route := range getRoutes(handleFunctions) {
		if route.HandlerFunc == nil {
			route.HandlerFunc = DefaultHandleFunc
		}
		switch route.Method {
		case http.MethodGet:
			router.GET(route.Pattern, route.HandlerFunc)
		case http.MethodPost:
			router.POST(route.Pattern, route.HandlerFunc)
		case http.MethodPut:
			router.PUT(route.Pattern, route.HandlerFunc)
		case http.MethodPatch:
			router.PATCH(route.Pattern, route.HandlerFunc)
		case http.MethodDelete:
			router.DELETE(route.Pattern, route.HandlerFunc)
		}
	}

	return router
}

// Default handler for not yet implemented routes
func DefaultHandleFunc(c *gin.Context) {
	c.String(http.StatusNotImplemented, "501 not implemented")
}

type ApiHandleFunctions struct {

	// Routes for the AmendmentsAPI part of the API
	AmendmentsAPI AmendmentsAPI
	// Routes for the BillNewsAPI part of the API
	BillNewsAPI BillNewsAPI
	// Routes for the BillTypesAPI part of the API
	BillTypesAPI BillTypesAPI
	// Routes for the BillsAPI part of the API
	BillsAPI BillsAPI
	// Routes for the DocumentsAPI part of the API
	DocumentsAPI DocumentsAPI
	// Routes for the PublicationTypesAPI part of the API
	PublicationTypesAPI PublicationTypesAPI
	// Routes for the PublicationsAPI part of the API
	PublicationsAPI PublicationsAPI
	// Routes for the RssAPI part of the API
	RssAPI RssAPI
	// Routes for the SittingsAPI part of the API
	SittingsAPI SittingsAPI
	// Routes for the StagesAPI part of the API
	StagesAPI StagesAPI
}

func getRoutes(handleFunctions ApiHandleFunctions) []Route {
	return []Route{ 
		{
			"GetAmendment",
			http.MethodGet,
			"/api/v1/Bills/:billId/Stages/:billStageId/Amendments/:amendmentId",
			handleFunctions.AmendmentsAPI.GetAmendment,
		},
		{
			"GetAmendments",
			http.MethodGet,
			"/api/v1/Bills/:billId/Stages/:billStageId/Amendments",
			handleFunctions.AmendmentsAPI.GetAmendments,
		},
		{
			"GetNewsArticles",
			http.MethodGet,
			"/api/v1/Bills/:billId/NewsArticles",
			handleFunctions.BillNewsAPI.GetNewsArticles,
		},
		{
			"ApiV1BillTypesGet",
			http.MethodGet,
			"/api/v1/BillTypes",
			handleFunctions.BillTypesAPI.ApiV1BillTypesGet,
		},
		{
			"ApiV1BillsBillIdStagesGet",
			http.MethodGet,
			"/api/v1/Bills/:billId/Stages",
			handleFunctions.BillsAPI.ApiV1BillsBillIdStagesGet,
		},
		{
			"GetBill",
			http.MethodGet,
			"/api/v1/Bills/:billId",
			handleFunctions.BillsAPI.GetBill,
		},
		{
			"GetBillStageDetails",
			http.MethodGet,
			"/api/v1/Bills/:billId/Stages/:billStageId",
			handleFunctions.BillsAPI.GetBillStageDetails,
		},
		{
			"GetBills",
			http.MethodGet,
			"/api/v1/Bills",
			handleFunctions.BillsAPI.GetBills,
		},
		{
			"ApiV1PublicationsPublicationIdDocumentsDocumentIdDownloadGet",
			http.MethodGet,
			"/api/v1/Publications/:publicationId/Documents/:documentId/Download",
			handleFunctions.DocumentsAPI.ApiV1PublicationsPublicationIdDocumentsDocumentIdDownloadGet,
		},
		{
			"ApiV1PublicationsPublicationIdDocumentsDocumentIdGet",
			http.MethodGet,
			"/api/v1/Publications/:publicationId/Documents/:documentId",
			handleFunctions.DocumentsAPI.ApiV1PublicationsPublicationIdDocumentsDocumentIdGet,
		},
		{
			"ApiV1PublicationTypesGet",
			http.MethodGet,
			"/api/v1/PublicationTypes",
			handleFunctions.PublicationTypesAPI.ApiV1PublicationTypesGet,
		},
		{
			"ApiV1BillsBillIdStagesStageIdPublicationsGet",
			http.MethodGet,
			"/api/v1/Bills/:billId/Stages/:stageId/Publications",
			handleFunctions.PublicationsAPI.ApiV1BillsBillIdStagesStageIdPublicationsGet,
		},
		{
			"GetBillPublication",
			http.MethodGet,
			"/api/v1/Bills/:billId/Publications",
			handleFunctions.PublicationsAPI.GetBillPublication,
		},
		{
			"ApiV1RssAllbillsRssGet",
			http.MethodGet,
			"/api/v1/Rss/allbills.rss",
			handleFunctions.RssAPI.ApiV1RssAllbillsRssGet,
		},
		{
			"ApiV1RssBillsIdRssGet",
			http.MethodGet,
			"/api/v1/Rss/Bills/:id.rss",
			handleFunctions.RssAPI.ApiV1RssBillsIdRssGet,
		},
		{
			"ApiV1RssPrivatebillsRssGet",
			http.MethodGet,
			"/api/v1/Rss/privatebills.rss",
			handleFunctions.RssAPI.ApiV1RssPrivatebillsRssGet,
		},
		{
			"ApiV1RssPublicbillsRssGet",
			http.MethodGet,
			"/api/v1/Rss/publicbills.rss",
			handleFunctions.RssAPI.ApiV1RssPublicbillsRssGet,
		},
		{
			"GetSittings",
			http.MethodGet,
			"/api/v1/Sittings",
			handleFunctions.SittingsAPI.GetSittings,
		},
		{
			"ApiV1StagesGet",
			http.MethodGet,
			"/api/v1/Stages",
			handleFunctions.StagesAPI.ApiV1StagesGet,
		},
	}
}
